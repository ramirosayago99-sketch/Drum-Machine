<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Drum Machine</title>
  <style>
    :root{
      --bg:#0f172a;
      --card:#0b1220;
      --accent:#06b6d4;
      --muted:#94a3b8;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      min-height:100vh;
      display:flex;
      align-items:center;
      justify-content:center;
      background: radial-gradient(circle at 10% 10%, #071129 0%, var(--bg) 60%);
      color:#e6eef8;
      font-family: Inter, system-ui, -apple-system, Arial;
      padding:2rem;
    }

    #drum-machine{
      width:100%;
      max-width:900px;
      background: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01));
      border-radius:12px;
      padding:1.5rem;
      display:grid;
      grid-template-columns: 1fr 280px;
      gap:1.5rem;
      box-shadow: 0 10px 30px rgba(2,6,23,0.6);
      border:1px solid rgba(255,255,255,0.03);
    }

    .pads{
      display:grid;
      grid-template-columns: repeat(3, 1fr);
      gap:0.75rem;
      align-content:center;
    }

    .drum-pad{
      background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      border-radius:8px;
      padding:1rem;
      text-align:center;
      cursor:pointer;
      user-select:none;
      border:1px solid rgba(255,255,255,0.03);
      transition: transform .08s ease, box-shadow .08s ease;
      box-shadow: 0 6px 18px rgba(2,6,23,0.6);
      font-weight:700;
      font-size:1.25rem;
      color:var(--muted);
    }

    .drum-pad:active, .drum-pad.playing{
      transform: translateY(2px) scale(0.995);
      box-shadow: 0 4px 12px rgba(2,6,23,0.7) inset, 0 12px 30px rgba(0,0,0,0.35);
      color:var(--accent);
    }

    #display-panel{
      display:flex;
      flex-direction:column;
      gap:1rem;
      justify-content:center;
    }

    #display{
      height:60px;
      display:flex;
      align-items:center;
      justify-content:center;
      background: rgba(255,255,255,0.02);
      border-radius:8px;
      border:1px solid rgba(255,255,255,0.03);
      font-weight:700;
      color:#dbeafe;
    }

    .title{
      text-transform:uppercase;
      font-size:0.85rem;
      letter-spacing:1px;
      color:var(--muted);
      text-align:center;
    }

    .small-controls{
      display:flex;
      gap:0.5rem;
      justify-content:center;
      align-items:center;
    }

    button.clear{
      padding:0.5rem 0.8rem;
      border-radius:6px;
      border:none;
      background:transparent;
      color:var(--muted);
      cursor:pointer;
      border:1px solid rgba(255,255,255,0.02);
    }

    footer{
      grid-column:1/-1;
      text-align:center;
      color:var(--muted);
      font-size:0.85rem;
      margin-top:0.5rem;
    }

    @media (max-width:760px){
      #drum-machine{grid-template-columns:1fr;}
      #display{height:50px}
      .pads{grid-template-columns:repeat(3, 1fr);}
    }
  </style>
</head>
<body>

  <div id="drum-machine">
    <div>
      <div class="title">Drum Pads</div>
      <div class="pads" id="pads">
        <!-- Order MUST be: Q W E A S D Z X C -->
        <div class="drum-pad" id="Heater-1" data-key="Q">Q
          <audio class="clip" id="Q" src="https://s3.amazonaws.com/freecodecamp/drums/Heater-1.mp3"></audio>
        </div>

        <div class="drum-pad" id="Heater-2" data-key="W">W
          <audio class="clip" id="W" src="https://s3.amazonaws.com/freecodecamp/drums/Heater-2.mp3"></audio>
        </div>

        <div class="drum-pad" id="Heater-3" data-key="E">E
          <audio class="clip" id="E" src="https://s3.amazonaws.com/freecodecamp/drums/Heater-3.mp3"></audio>
        </div>

        <div class="drum-pad" id="Heater-4" data-key="A">A
          <audio class="clip" id="A" src="https://s3.amazonaws.com/freecodecamp/drums/Heater-4_1.mp3"></audio>
        </div>

        <div class="drum-pad" id="Clap" data-key="S">S
          <audio class="clip" id="S" src="https://s3.amazonaws.com/freecodecamp/drums/Heater-6.mp3"></audio>
        </div>

        <div class="drum-pad" id="Open-HH" data-key="D">D
          <audio class="clip" id="D" src="https://s3.amazonaws.com/freecodecamp/drums/Dsc_Oh.mp3"></audio>
        </div>

        <div class="drum-pad" id="Kick-n'-Hat" data-key="Z">Z
          <audio class="clip" id="Z" src="https://s3.amazonaws.com/freecodecamp/drums/Kick_n_Hat.mp3"></audio>
        </div>

        <div class="drum-pad" id="Kick" data-key="X">X
          <audio class="clip" id="X" src="https://s3.amazonaws.com/freecodecamp/drums/RP4_KICK_1.mp3"></audio>
        </div>

        <div class="drum-pad" id="Closed-HH" data-key="C">C
          <audio class="clip" id="C" src="https://s3.amazonaws.com/freecodecamp/drums/Cev_H2.mp3"></audio>
        </div>
      </div>
    </div>

    <div id="display-panel">
      <div class="title">Display</div>
      <div id="display">Hit a pad or press Q,W,E,A,S,D,Z,X,C</div>
      <div class="small-controls">
        <button class="clear" id="clear">Clear</button>
      </div>
    </div>

    <footer>Drum Machine - FreeCodeCamp project</footer>
  </div>

  <script>
    // Map keys to pad elements and friendly names (User Story #7)
    const padOrder = [
      { key: 'Q', id: 'Heater-1', name: 'Heater 1' },
      { key: 'W', id: 'Heater-2', name: 'Heater 2' },
      { key: 'E', id: 'Heater-3', name: 'Heater 3' },
      { key: 'A', id: 'Heater-4', name: 'Heater 4' },
      { key: 'S', id: 'Clap', name: 'Clap' },
      { key: 'D', id: 'Open-HH', name: 'Open-HH' },
      { key: 'Z', id: "Kick-n'-Hat", name: "Kick-n'-Hat" },
      { key: 'X', id: 'Kick', name: 'Kick' },
      { key: 'C', id: 'Closed-HH', name: 'Closed-HH' }
    ];

    const display = document.getElementById('display');
    const pads = document.querySelectorAll('.drum-pad');

    function playSound(key){
      const audio = document.getElementById(key);
      if(!audio) return;
      audio.currentTime = 0;
      audio.play();

      // update display with friendly name
      const map = padOrder.find(p => p.key === key);
      display.textContent = map ? map.name : key;

      // add playing visual class briefly
      const parent = audio.parentElement;
      parent.classList.add('playing');
      setTimeout(()=> parent.classList.remove('playing'), 120);
    }

    // Click handlers for pads (User Story #5)
    pads.forEach(pad => {
      pad.addEventListener('click', () => {
        const key = pad.getAttribute('data-key');
        playSound(key);
      });
    });

    // Keyboard support (User Story #6)
    window.addEventListener('keydown', (e) => {
      const key = e.key.toUpperCase();
      // Only react to keys we care about
      if(['Q','W','E','A','S','D','Z','X','C'].includes(key)){
        playSound(key);
      }
    });

    // Clear display
    document.getElementById('clear').addEventListener('click', () => {
      display.textContent = 'Hit a pad or press Q,W,E,A,S,D,Z,X,C';
    });

    // Accessibility: allow focusing pads with keyboard and pressing Enter/Space
    pads.forEach(pad => {
      pad.setAttribute('tabindex', '0');
      pad.addEventListener('keydown', (e)=>{
        if(e.key === 'Enter' || e.key === ' '){
          e.preventDefault();
          const key = pad.getAttribute('data-key');
          playSound(key);
        }
      });
    });
  </script>
</body>
</html>
